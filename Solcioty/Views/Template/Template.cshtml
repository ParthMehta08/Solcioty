@using System.Web.Optimization;
@using Models
@using Solcioty.utilities;
@{

    Layout = null;
}
@model ModelBoxerHomePage
@{
    var lastIndex = Model.BoxerWorkoutInfo.BoxerTemplates != null ? Model.BoxerWorkoutInfo.BoxerTemplates.Count + 1 : 1;
    var isFutureWorkout = Model.BoxerWorkoutInfo != null && Model.BoxerWorkoutInfo.IsFutureWorkout ? Model.BoxerWorkoutInfo.IsFutureWorkout : false;

    var clssname = "two-by-four";
    int numberofbasicvideos = 0;
    int numberofalternatevideo = 0;
    if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 1 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("1 X 1");
        clssname = "one-by-one";
        numberofbasicvideos = 1;
        numberofalternatevideo = 1;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 1 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 2)
    {
        //("1 X 2");
        clssname = "two-by-one";
        numberofbasicvideos = 1;
        numberofalternatevideo = 1;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 2 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("1 X 2");
        clssname = "one-by-two";
        numberofbasicvideos = 2;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 2 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 2)
    {
        //("2 X 2");
        clssname = "two-by-two";
        numberofbasicvideos = 2;
        numberofalternatevideo = 2;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 3 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("3 X 1");
        clssname = "one-by-three";
        numberofbasicvideos = 3;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 3 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 3)
    {
        //("3 X 2");
        clssname = "two-by-three";
        numberofbasicvideos = 3;
        numberofalternatevideo = 3;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 4 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("4 X 1");
        clssname = "one-by-four";
        numberofbasicvideos = 4;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 4 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 4)
    {
        //("4 X 2");
        clssname = "two-by-four";
        numberofbasicvideos = 4;
        numberofalternatevideo = 4;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 5 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("5 X 1");
        clssname = "one-by-five";
        numberofbasicvideos = 5;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 5 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 5)
    {
        //("5 X 2");
        clssname = "two-by-five";
        numberofbasicvideos = 5;
        numberofalternatevideo = 5;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 6 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("6 X 1");
        clssname = "one-by-six";
        numberofbasicvideos = 6;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 6 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 6)
    {
        //("6 X 6");
        clssname = "two-by-six";
        numberofbasicvideos = 6;
        numberofalternatevideo = 6;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 7 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("7 X 1");
        clssname = "one-by-seven";
        numberofbasicvideos = 7;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 7 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 7)
    {
        //("7 X 7");
        clssname = "two-by-seven";
        numberofbasicvideos = 7;
        numberofalternatevideo = 7;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 8 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("8 X 1");
        clssname = "one-by-eight";
        numberofbasicvideos = 8;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 8 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 8)
    {
        //("8 X 8");
        clssname = "two-by-eight";
        numberofbasicvideos = 8;
        numberofalternatevideo = 8;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 9 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("9 X 1");
        clssname = "one-by-nine";
        numberofbasicvideos = 9;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 9 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 9)
    {
        //("9 X 9");
        clssname = "two-by-nine";
        numberofbasicvideos = 9;
        numberofalternatevideo = 9;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 10 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 1)
    {
        //("10 X 1");
        clssname = "one-by-ten";
        numberofbasicvideos = 10;
        numberofalternatevideo = 0;
    }
    else if (@Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfBasicVideos == 10 && @Model.BoxerWorkoutInfo.BoxerTemplates[0].NumberOfAlternateVideos == 10)
    {
        //("10 X 10");
        clssname = "";
        numberofbasicvideos = 10;
        numberofalternatevideo = 10;
    }


}
<doctype html>
    <html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Workout</title>
        <link rel="stylesheet" href="~/Content/assets/css/BoxerCss/style.css">
        <link rel="stylesheet" href="https://use.typekit.net/rjm5wct.css">
    </head>
    <body>
        <div id="wrapper">
            @{
                int Minutes = 0;
                int Seconds = 0;
                if (!string.IsNullOrEmpty(Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText.Trim()) && Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText != " ")
                {
                    if(Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText.Split(':').Count() > 1)
                    {
                        Minutes = Convert.ToInt32(Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText.Split(':')[0]);
                        Seconds = Convert.ToInt32(Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText.Split(':')[1]);
                    }
                    else
                    {
                        Minutes = Convert.ToInt32(Model.BoxerWorkoutInfo.BoxerTemplates[0].TimeText.Split(':')[0]);
                        Seconds = 0;
                    }
                }
            }
            <input type="hidden" id="Minutes" value="@Minutes" />
            <input type="hidden" id="Seconds" value="@Seconds" />
            <header class="header">
                <div class="logo">
                    <img src="~/Content/assets/images/Boxertemplate/logo.png" />
                </div>
                <div class="header-center-title">
                    @Model.BoxerWorkoutInfo.BoxerTemplates[0].BoxerTemplateName
                </div>

                <div role="progressbar" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100" style="--value:50">

                    <div class="header-right-timmer">
                        <span>Time</span>
                        <h2 id="demo"></h2>
                        <span>REMAINING</span>
                    </div>

                </div>


            </header>
            <div class="middle-section">

                <div class="ten-col-section top-section @clssname">
                    @foreach (var item in Model.BoxerWorkoutInfo.BoxerTemplates[0].BasicVideos.Take(numberofbasicvideos))
                    {
                        if (item.FileType == "I")
                        {
                            <div class="col">
                                <div class="img-col">
                                    @*<img src="images/karolis-milisauskas-eoVdk1z4ihI-unsplash.jpg" />*@
                                    <img src="~/AllImages/@item.VideoId/@item.VideoFile" /> }
                                </div>

                            </div>
                        }
                        else if (item.FileType == "V")
                        {
                            <div class="col">
                                <div class="img-col">
                                    <video autoplay loop controls>
                                        <source src="images/7202-Loop-Bicep-Curl.mp4" type="video/mp4">
                                        <source src="@Url.Content($"/AllVideos/{@item.VideoId}/{@item.VideoFile}")" type="video/mp4">

                                    </video>
                                </div>

                            </div>
                        }

                    }






                </div>

                <div class="ten-col-section bottom-section @clssname">
                    @foreach (var item in Model.BoxerWorkoutInfo.BoxerTemplates[0].AlternateVideos.Take(numberofalternatevideo))
                    {
                        if (item.FileType == "I")
                        {
                            <div class="col">
                                <div class="img-col">
                                    @*<img src="images/karolis-milisauskas-eoVdk1z4ihI-unsplash.jpg" />*@
                                    <img src="~/AllImages/@item.VideoId/@item.VideoFile" /> }
                                </div>

                            </div>
                        }
                        else if (item.FileType == "V")
                        {
                            <div class="col">
                                <div class="img-col">
                                    <video autoplay loop controls>
                                        <source src="images/7202-Loop-Bicep-Curl.mp4" type="video/mp4">
                                        <source src="@Url.Content($"/AllVideos/{@item.VideoId}/{@item.VideoFile}")" type="video/mp4">

                                    </video>
                                </div>

                            </div>
                        }

                    }



                </div>



            </div>
        </div>
        @Scripts.Render("~/bundle/jquery")
        <script>
            var minutes = $("#Minutes").val();
            var seconds = $("#Seconds").val();
            var x = setInterval(function () {
                if (seconds == 0) {
                    if (minutes == 0) {
                        document.getElementById("demo").innerHTML = 0 + ':' + 0;
                        return;
                    } else {
                        minutes--;
                        seconds = 60;
                    }
                }
                document.getElementById("demo").innerHTML = minutes + ':' + seconds;
                seconds--;
            }, 1000);
        </script>
    </body>

</html>
